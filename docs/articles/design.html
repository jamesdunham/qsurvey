<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Survey Designs &bull; qsurvey</title><!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">qsurvey</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/design.html">Survey Designs</a>
</li>
<li>
  <a href="../articles/responses.html">Survey Responses</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/jamesdunham/qsurvey">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header><script src="design_files/htmlwidgets-0.8/htmlwidgets.js"></script><link href="design_files/vis-4.16.1/vis.min.css" rel="stylesheet"><script src="design_files/vis-4.16.1/vis.min.js"></script><script src="design_files/visNetwork-binding-1.0.2/visNetwork.js"></script><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Survey Designs</h1>
            
          </div>

    
    
<div class="contents">
<p>This vignette demonstrates working with Qualtrics survey designs, which qsurvey formalizes as <code>qualtrics_design</code> objects that represent the configuration of a survey. Before continuing you should have installed qsurvey: see the <a href="http://jdunham.io/qsurvey/">insallation instructions</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(qsurvey)</code></pre></div>
<div id="retrieve-a-survey-design" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#retrieve-a-survey-design" class="anchor"> </a></body></html>Retrieve a survey design</h2>
<p>Survey metadata is available from the Qualtrics platform via <code><a href="../reference/surveys.html">surveys()</a></code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(survey_meta &lt;-<span class="st"> </span><span class="kw"><a href="../reference/surveys.html">surveys</a></span>())
<span class="co">#&gt;                    id                 name           owner_id</span>
<span class="co">#&gt; 1: SV_0CGgkDZJaUvxnGl     Student Feedback UR_8J1114L8aAeMCPP</span>
<span class="co">#&gt; 2: SV_cIKqX1B5wDO3wKV    Course Evaluation UR_8J1114L8aAeMCPP</span>
<span class="co">#&gt; 3: SV_5goFlnLiTZWGI1D Patient Satisfaction UR_8J1114L8aAeMCPP</span>
<span class="co">#&gt; 4: SV_eWLnQvYuRfIKQRL   Country &amp; US State UR_8J1114L8aAeMCPP</span>
<span class="co">#&gt; 5: SV_0VVlb9QwJ4bsBKZ         Demographics UR_8J1114L8aAeMCPP</span>
<span class="co">#&gt;          last_modified is_active</span>
<span class="co">#&gt; 1: 2016-11-24 03:36:38     FALSE</span>
<span class="co">#&gt; 2: 2016-11-24 03:36:29     FALSE</span>
<span class="co">#&gt; 3: 2016-11-24 03:36:24     FALSE</span>
<span class="co">#&gt; 4: 2016-11-24 03:36:19     FALSE</span>
<span class="co">#&gt; 5: 2016-11-24 03:36:11     FALSE</span></code></pre></div>
<p>This Qualtrics account has access to a handful of surveys. We&rsquo;ll pick one for examination in detail. Passing a survey&rsquo;s id to <code><a href="../reference/design.html">design()</a></code> retrieves its <code>qualtrics_design</code> object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">feedback_id &lt;-<span class="st"> </span>survey_meta$id[<span class="dv">1</span>]
feedback &lt;-<span class="st"> </span><span class="kw"><a href="../reference/design.html">design</a></span>(feedback_id)</code></pre></div>
<p>Printing the design gives us some basic information. Some we already saw when calling <code><a href="../reference/surveys.html">surveys()</a></code>. There are three new numbers giving counts of responses, questions, and blocks.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(feedback)
<span class="co">#&gt; # A qualtrics_design:</span>
<span class="co">#&gt; name               Student Feedback     </span>
<span class="co">#&gt; id                 SV_0CGgkDZJaUvxnGl   </span>
<span class="co">#&gt; created            2016-11-24           </span>
<span class="co">#&gt; modified           2016-11-24           </span>
<span class="co">#&gt; responses          0 (closed)           </span>
<span class="co">#&gt; questions          26                   </span>
<span class="co">#&gt; blocks             3</span></code></pre></div>
<p>Note: a <code>qualtrics_design</code> object is immutable and can become outdated. If after downloading a survey&rsquo;s design you make changes to it in the Qualtrics Control Panel, call <code><a href="../reference/design.html">design()</a></code> again to recreate its <code>qualtrics_design</code> object.</p>
</div>
<div id="blocks" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#blocks" class="anchor"> </a></body></html>Blocks</h2>
<p>Blocks of questions are the main organizing element of surveys. The <code><a href="../reference/blocks.html">blocks()</a></code> function shows a survey&rsquo;s blocks.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/blocks.html">blocks</a></span>(feedback)
<span class="co">#&gt;              block_id   block_description</span>
<span class="co">#&gt; 1: BL_agzU0yMolbPdFGd    Class Evaluation</span>
<span class="co">#&gt; 2: BL_0wUDDTxrMh9vOAd  Teacher Evaluation</span>
<span class="co">#&gt; 3: BL_6FK8SIrVsXuBxFX Student Performance</span></code></pre></div>
<p>Each block has a unique <code>block_id</code>. A <code>block_description</code> is the descriptive text (name) given to a block when editing it through the Qualtrics Control Panel. If we wanted more details about these blocks, we could use argument <code>elements=TRUE</code> to see what each block contains.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/blocks.html">blocks</a></span>(feedback, <span class="dt">elements =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt;               block_id   block_description element_type  question_id</span>
<span class="co">#&gt;  1: BL_agzU0yMolbPdFGd    Class Evaluation     Question QID132224516</span>
<span class="co">#&gt;  2: BL_agzU0yMolbPdFGd    Class Evaluation     Question QID132224536</span>
<span class="co">#&gt;  3: BL_agzU0yMolbPdFGd    Class Evaluation     Question QID132224537</span>
<span class="co">#&gt;  4: BL_agzU0yMolbPdFGd    Class Evaluation     Question QID132224526</span>
<span class="co">#&gt;  5: BL_agzU0yMolbPdFGd    Class Evaluation     Question QID132224538</span>
<span class="co">#&gt;  6: BL_agzU0yMolbPdFGd    Class Evaluation     Question QID132224539</span>
<span class="co">#&gt;  7: BL_agzU0yMolbPdFGd    Class Evaluation     Question QID132224540</span>
<span class="co">#&gt;  8: BL_0wUDDTxrMh9vOAd  Teacher Evaluation     Question QID132224541</span>
<span class="co">#&gt;  9: BL_0wUDDTxrMh9vOAd  Teacher Evaluation     Question QID132224518</span>
<span class="co">#&gt; 10: BL_0wUDDTxrMh9vOAd  Teacher Evaluation     Question QID132224517</span>
<span class="co">#&gt; 11: BL_0wUDDTxrMh9vOAd  Teacher Evaluation     Question QID132224519</span>
<span class="co">#&gt; 12: BL_0wUDDTxrMh9vOAd  Teacher Evaluation     Question QID132224520</span>
<span class="co">#&gt; 13: BL_0wUDDTxrMh9vOAd  Teacher Evaluation     Question QID132224521</span>
<span class="co">#&gt; 14: BL_0wUDDTxrMh9vOAd  Teacher Evaluation     Question QID132224522</span>
<span class="co">#&gt; 15: BL_0wUDDTxrMh9vOAd  Teacher Evaluation     Question QID132224523</span>
<span class="co">#&gt; 16: BL_0wUDDTxrMh9vOAd  Teacher Evaluation     Question QID132224524</span>
<span class="co">#&gt; 17: BL_6FK8SIrVsXuBxFX Student Performance     Question QID132224525</span>
<span class="co">#&gt; 18: BL_6FK8SIrVsXuBxFX Student Performance     Question QID132224528</span>
<span class="co">#&gt; 19: BL_6FK8SIrVsXuBxFX Student Performance     Question QID132224527</span>
<span class="co">#&gt; 20: BL_6FK8SIrVsXuBxFX Student Performance     Question QID132224530</span>
<span class="co">#&gt; 21: BL_6FK8SIrVsXuBxFX Student Performance     Question QID132224529</span>
<span class="co">#&gt; 22: BL_6FK8SIrVsXuBxFX Student Performance     Question QID132224531</span>
<span class="co">#&gt; 23: BL_6FK8SIrVsXuBxFX Student Performance     Question QID132224532</span>
<span class="co">#&gt; 24: BL_6FK8SIrVsXuBxFX Student Performance     Question QID132224533</span>
<span class="co">#&gt; 25: BL_6FK8SIrVsXuBxFX Student Performance     Question QID132224534</span>
<span class="co">#&gt; 26: BL_6FK8SIrVsXuBxFX Student Performance     Question QID132224535</span>
<span class="co">#&gt;               block_id   block_description element_type  question_id</span>
<span class="co">#&gt;     block_randomization</span>
<span class="co">#&gt;  1:                    </span>
<span class="co">#&gt;  2:                    </span>
<span class="co">#&gt;  3:                    </span>
<span class="co">#&gt;  4:                    </span>
<span class="co">#&gt;  5:                    </span>
<span class="co">#&gt;  6:                    </span>
<span class="co">#&gt;  7:                    </span>
<span class="co">#&gt;  8:                    </span>
<span class="co">#&gt;  9:                    </span>
<span class="co">#&gt; 10:                    </span>
<span class="co">#&gt; 11:                    </span>
<span class="co">#&gt; 12:                    </span>
<span class="co">#&gt; 13:                    </span>
<span class="co">#&gt; 14:                    </span>
<span class="co">#&gt; 15:                    </span>
<span class="co">#&gt; 16:                    </span>
<span class="co">#&gt; 17:                    </span>
<span class="co">#&gt; 18:                    </span>
<span class="co">#&gt; 19:                    </span>
<span class="co">#&gt; 20:                    </span>
<span class="co">#&gt; 21:                    </span>
<span class="co">#&gt; 22:                    </span>
<span class="co">#&gt; 23:                    </span>
<span class="co">#&gt; 24:                    </span>
<span class="co">#&gt; 25:                    </span>
<span class="co">#&gt; 26:                    </span>
<span class="co">#&gt;     block_randomization</span></code></pre></div>
<p>The new columns show the elements in each block: their type (question or page break); unique question identifiers; and the details of block content randomization, if any.</p>
</div>
<div id="questions" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#questions" class="anchor"> </a></body></html>Questions</h2>
<p>We can learn much more about a survey&rsquo;s questions with the <code><a href="../reference/questions.html">questions()</a></code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">feedback_q &lt;-<span class="st"> </span><span class="kw"><a href="../reference/questions.html">questions</a></span>(feedback)
<span class="kw">head</span>(feedback_q)
<span class="co">#&gt;    question_order  question_id export_name</span>
<span class="co">#&gt; 1:              1 QID132224516          Q1</span>
<span class="co">#&gt; 2:              2 QID132224536          Q3</span>
<span class="co">#&gt; 3:              3 QID132224537          Q4</span>
<span class="co">#&gt; 4:              4 QID132224526          Q2</span>
<span class="co">#&gt; 5:              5 QID132224538          Q6</span>
<span class="co">#&gt; 6:              6 QID132224539          Q7</span>
<span class="co">#&gt;                                                                            question_text</span>
<span class="co">#&gt; 1:                      Overall, how satisfied or dissatisfied were you with this class?</span>
<span class="co">#&gt; 2:                                                       How interesting was this class?</span>
<span class="co">#&gt; 3:                                                       How challenging was this class?</span>
<span class="co">#&gt; 4:                                    How fair or unfair was the workload in this class?</span>
<span class="co">#&gt; 5:                        How clear or unclear were the assignments given in this class?</span>
<span class="co">#&gt; 6: How relevant or irrelevant were the tests and quizzes to the topics covered in class?</span></code></pre></div>
<p>This table gives:</p>
<ul><li><p>The order in which questions appear (WARNING: possibly misleading depending on survey flow setup)</p></li>
<li><p>Unique identifiers as generated by Qualtrics</p></li>
<li><p><code>export_name</code>, which gives the names a user assigned to questions in the Qualtrics Control Panel</p></li>
<li><p>The respondent-facing <code>question_text</code></p></li>
</ul></div>
<div id="choices" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#choices" class="anchor"> </a></body></html>Choices</h2>
<p>We didn&rsquo;t see in the <code><a href="../reference/questions.html">questions()</a></code> output the response choices that are available to survey-takers. You can access these with the <code><a href="../reference/choices.html">choices()</a></code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">feedback_choices &lt;-<span class="st"> </span><span class="kw"><a href="../reference/choices.html">choices</a></span>(feedback)
<span class="kw">head</span>(feedback_choices)
<span class="co">#&gt;    choice_id  question_id                        choice_text</span>
<span class="co">#&gt; 1:         1 QID132224516                Extremely satisfied</span>
<span class="co">#&gt; 2:         2 QID132224516               Moderately satisfied</span>
<span class="co">#&gt; 3:         3 QID132224516                 Slightly satisfied</span>
<span class="co">#&gt; 4:         4 QID132224516 Neither satisfied nor dissatisfied</span>
<span class="co">#&gt; 5:         5 QID132224516              Slightly dissatisfied</span>
<span class="co">#&gt; 6:         6 QID132224516            Moderately dissatisfied</span>
<span class="co">#&gt;                    choice_description choice_recode</span>
<span class="co">#&gt; 1:                Extremely satisfied             1</span>
<span class="co">#&gt; 2:               Moderately satisfied             2</span>
<span class="co">#&gt; 3:                 Slightly satisfied             3</span>
<span class="co">#&gt; 4: Neither satisfied nor dissatisfied             4</span>
<span class="co">#&gt; 5:              Slightly dissatisfied             5</span>
<span class="co">#&gt; 6:            Moderately dissatisfied             6</span></code></pre></div>
<p>Each choice has an identifier <code>choice_id</code> that&rsquo;s unique within questions. In the other columns:</p>
<ul><li><p><code>choice_text</code> gives the respondent-visible text associated with a choice.</p></li>
<li><p><code>choice_description</code> is (optionally) a different string that you can associate with a choice (e.g., to make the response data more readable). By default, it&rsquo;s the same as <code>choice_text</code>.</p></li>
<li><p><code>choice_recode</code> is (optionally) a number other than the <code>choice_id</code> that you can associate with a choice, for example so that choices are in <code>{-1, 0, 1}</code> instead of <code>{1, 2, 3}</code> when exporting the response data. <code>choice_recode</code> defaults to <code>choice_id</code>.</p></li>
</ul></div>
<div id="visualization" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#visualization" class="anchor"> </a></body></html>Visualization</h2>
<p>A survey flow describes the order in which respondents can encounter the elements of a survey. The &ldquo;Survey Flow&rdquo; view in the Qualtrics Control Panel lets you make changes. You can visualize a survey flow in R using <code><a href="../reference/plot_flow.html">plot_flow()</a></code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/plot_flow.html">plot_flow</a></span>(feedback)</code></pre></div>
<div id="htmlwidget-32d05ee3877833ee6b8b" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-32d05ee3877833ee6b8b">{"x":{"nodes":{"id":[2,3,1],"parent_id":[0,0,0],"type":["Block","Block","Block"],"label":["Teacher Evaluation","Student Performance","Class Evaluation"],"block_id":["BL_0wUDDTxrMh9vOAd","BL_6FK8SIrVsXuBxFX","BL_agzU0yMolbPdFGd"],"color":["#d9d9d9","#d9d9d9","#d9d9d9"]},"edges":{"from":[0,1,2],"to":[1,2,3],"type":["deterministic","deterministic","deterministic"],"color":["#000000","#000000","#000000"]},"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"interaction":{"dragNodes":false,"dragView":false,"zoomView":false},"edges":{"arrows":"to"},"layout":{"hierarchical":{"enabled":true,"direction":"LR","sortMethod":"directed"}}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null},"evals":[],"jsHooks":[]}</script><p><code><a href="../reference/plot_flow.html">plot_flow()</a></code> shows the survey flow as a directed graph, whose nodes can be flow elements like blocks, branches, and block randomizers. Edges between nodes can be deterministic, conditional, or random. (In this simple survey, all the edges are deterministic.) Conditional edges implement branch logic. Random edges represent outcomes from a block randomizer.</p>
<p>A Shiny app (experimental) that includes a similar visual representation of survey flow is available through <code><a href="../reference/render_flow.html">render_flow()</a></code>. For the nodes and edges in tabular format, see <code><a href="../reference/edges.html">edges()</a></code> and <code><a href="../reference/edges.html">nodes()</a></code>.</p>
</div>
<div id="conclusion" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#conclusion" class="anchor"> </a></body></html>Conclusion</h2>
<p>Many of the functions in qsurvey operate on <code>qualtrics_design</code> objects. This vignette demonstrated how to retrieve one with <code><a href="../reference/design.html">design()</a></code>, and then use <code><a href="../reference/blocks.html">blocks()</a></code>, <code><a href="../reference/questions.html">questions()</a></code>, and <code><a href="../reference/choices.html">choices()</a></code> to examine the respondent-facing content of a survey and the configuration of renaming/recoding schemes and survey flow. If you have a question or suggestion, please open a <a href="https://github.com/jamesdunham/qsurvey/issues">GitHub issue</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked"><li><a href="#retrieve-a-survey-design">Retrieve a survey design</a></li>
      <li><a href="#blocks">Blocks</a></li>
      <li><a href="#questions">Questions</a></li>
      <li><a href="#choices">Choices</a></li>
      <li><a href="#visualization">Visualization</a></li>
      <li><a href="#conclusion">Conclusion</a></li>
      </ul></div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://jdunham.io">James Dunham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer></div>

  </body></html>

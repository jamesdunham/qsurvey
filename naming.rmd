---
title: "Naming"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, result = 'hide', echo = FALSE)
```

```{r, result='hide'}
library(qualtrics)
key_from_file()
test_id = "SV_cuxfjYWRTB30ouh"
```

# Response labels, codes, and recodes

By default, `responses()` returns the *label* associated with each response
choice.

```{r}
responses(test_id)[, .(mc_sa_1)]
```

With argument `use_labels = FALSE`, the result shows the *code* asssociated with
each response choice.

```{r}
responses(test_id, use_labels = FALSE)[, .(mc_sa_1)]
```

Codes can be changed with *recode values*.

```{r}
responses(test_id, use_labels = FALSE)[, .(mc_sa_1, mc_sa_3)]
```

But recode values are only visible in the response data with argument 
`use_labels = FALSE`. Otherwise, these responses would still appear as
`c("Low", "Medium", "High")`.

```{r, include=FALSE}
responses(test_id)[, .(mc_sa_1, mc_sa_3)]
```

`choices()` shows the mapping of choice codes (`choice`) to recodes (`recode`), 
and of the choice codes to the labels in `responses()` data (n.b. called 
`description` here!).

```{r}
choices(test_id)[question %in% c("QID1", "QID3")]
```

Also in this output:

* `question`: question id (see below)
* `choiceText`: respondent-facing choice text
* `variableName`: described below

# Question labels, export names, and ids

The column names in `responses()` data are *export names* associated with each
question. Each question also has an id like `QID1`.

`questions()` gives the mapping of question ids to question labels.

```{r}
questions(test_id)[question %in% c("QID1", "QID2")]
```

For single-answer questions, there is a one-to-one mapping of ids to export 
names. A multiple-answer question also has a single id, but a different export
name for each of its answer choices.

```{r}
export_names(test_id)
```

Using  *variable naming* ...

```{r, include=FALSE}
responses(test_id)[, .(mc_sa_1, mc_sa_3, mc_sa_4)]
```
